{"meta":{"title":"cyruschang","subtitle":null,"description":"天若有情天亦老，月如无恨月长圆。","author":"cyruschang","url":"https://cyruschang.github.io"},"pages":[{"title":"关于","date":"2017-03-03T14:30:02.000Z","updated":"2017-04-08T03:03:09.000Z","comments":true,"path":"about/index.html","permalink":"https://cyruschang.github.io/about/index.html","excerpt":"","text":"Hi,我是一名来自河南的iOS开发者，就职于北京。在这里分享我工作和生活的点点滴滴~ &lt;hr&gt; Love Music, Love Coding. &lt;iframe frameborder=&quot;no&quot; border=&quot;0&quot; marginwidth=&quot;0&quot; marginheight=&quot;0&quot; width=330 height=86 src=&quot;//music.163.com/outchain/player?type=2&amp;id=405343998&amp;auto=1&amp;height=66&quot;&gt;&lt;/iframe&gt; &lt;hr&gt;"},{"title":"分类阅读","date":"2017-03-03T14:26:30.000Z","updated":"2017-03-08T10:24:29.000Z","comments":true,"path":"categories/index.html","permalink":"https://cyruschang.github.io/categories/index.html","excerpt":"","text":""},{"title":"标签","date":"2017-03-03T14:25:39.000Z","updated":"2017-03-04T03:16:35.000Z","comments":false,"path":"tags/index.html","permalink":"https://cyruschang.github.io/tags/index.html","excerpt":"","text":""}],"posts":[{"title":"随想","slug":"随想","date":"2017-08-30T12:28:39.000Z","updated":"2017-08-30T12:28:39.000Z","comments":true,"path":"2017/08/30/随想/","link":"","permalink":"https://cyruschang.github.io/2017/08/30/随想/","excerpt":"","text":"One week later, I write down those words.How lucky I am. I met her.Just really met her.","categories":[{"name":"生活","slug":"life","permalink":"https://cyruschang.github.io/categories/life/"}],"tags":[{"name":"随想","slug":"essay","permalink":"https://cyruschang.github.io/tags/essay/"}]},{"title":"iOS开发之MOV视频文件转mp4视频文件","slug":"iOS开发之视频格式转换","date":"2017-08-01T00:17:49.000Z","updated":"2017-08-01T00:23:21.000Z","comments":false,"path":"2017/08/01/iOS开发之视频格式转换/","link":"","permalink":"https://cyruschang.github.io/2017/08/01/iOS开发之视频格式转换/","excerpt":"","text":"iOS开发将MOV格式的视频文件转换成mp4格式的视频文件相关代码 12345678910111213141516171819202122232425262728293031323334353637383940NSString *url = [NSTemporaryDirectory() stringByAppendingPathComponent:@\"sourceVideo.mov\"]; NSURL *sourceUrl = [NSURL fileURLWithPath:url]; AVURLAsset *avAsset = [AVURLAsset URLAssetWithURL:sourceUrl options:nil]; NSArray *compatiblePresets = [AVAssetExportSession exportPresetsCompatibleWithAsset:avAsset]; if ([compatiblePresets containsObject:AVAssetExportPreset640x480]) &#123; AVAssetExportSession *exportSession = [[AVAssetExportSession alloc] initWithAsset:avAsset presetName:AVAssetExportPreset640x480]; // 转换后的视频本地路径 exportSession.outputURL = [NSURL fileURLWithPath:outputPath]; // 转换的目的视频格式 exportSession.outputFileType = AVFileTypeMPEG4; // 网络使用时最优化 exportSession.shouldOptimizeForNetworkUse = YES; // 开始异步转换视频 [exportSession exportAsynchronouslyWithCompletionHandler:^(void) &#123; switch (exportSession.status) &#123; case AVAssetExportSessionStatusUnknown: break; case AVAssetExportSessionStatusWaiting: break; case AVAssetExportSessionStatusExporting: break; case AVAssetExportSessionStatusCompleted: // 转换成功 break; case AVAssetExportSessionStatusFailed: break; case AVAssetExportSessionStatusCancelled: break; &#125; &#125;]; &#125;","categories":[{"name":"编程","slug":"programming","permalink":"https://cyruschang.github.io/categories/programming/"}],"tags":[{"name":"iOS","slug":"iOS","permalink":"https://cyruschang.github.io/tags/iOS/"}]},{"title":"New Beginning","slug":"new beginning","date":"2017-07-28T15:45:31.000Z","updated":"2017-07-28T15:47:16.000Z","comments":false,"path":"2017/07/28/new beginning/","link":"","permalink":"https://cyruschang.github.io/2017/07/28/new beginning/","excerpt":"","text":"A special day after a long time in Beijing, So I remember the day in my life.","categories":[{"name":"生活","slug":"life","permalink":"https://cyruschang.github.io/categories/life/"}],"tags":[{"name":"美好的","slug":"bestfeel","permalink":"https://cyruschang.github.io/tags/bestfeel/"}]},{"title":"iOS开发之UITextView粘贴出现空白","slug":"iOS开发之UITextView粘贴出现空白","date":"2017-07-27T08:58:11.000Z","updated":"2017-07-27T09:03:11.000Z","comments":false,"path":"2017/07/27/iOS开发之UITextView粘贴出现空白/","link":"","permalink":"https://cyruschang.github.io/2017/07/27/iOS开发之UITextView粘贴出现空白/","excerpt":"","text":"公司的App有一些UGC（User Generate Content）内容，势必要用到苹果的UITextView控件。最近碰到这么个问题，在一次性粘贴大量的文本后，UITextView中会出现空白，通过界面调试发现，其contentView的size已经和本体的size差距非常大了，从而导致了显示真空。 最开始解决的方法是，在粘贴之后，强制设置其contentOffset，因为是继承自UIScrollView的，带来的新问题是，总是在粘贴之后滚动，体验非常之不友好。终极的解决方法是：UITextView中有一个- (void)scrollRangeToVisible:(NSRange)range;方法。对此方法苹果的开发文档释义为： Scrolls the receiver in its enclosing scroll view so the first characters of aRange are visible. 大概意思就是在内部滚动，使range处的第一个字符可见。 所以，继承系统的UITextView，添加一个UIMenuControllerDidHideMenuNotification通知，点击粘贴后菜单栏隐藏会发送通知，收到通知后，将range设置在（0， self.text.length）处即可。烦人的空白和滚动就跑到九霄云外了。","categories":[{"name":"编程","slug":"programming","permalink":"https://cyruschang.github.io/categories/programming/"}],"tags":[{"name":"iOS","slug":"iOS","permalink":"https://cyruschang.github.io/tags/iOS/"}]},{"title":"iOS开发之数据库存储(fmdb)","slug":"iOS开发之数据库存储","date":"2017-05-18T15:40:13.000Z","updated":"2017-05-18T15:40:56.000Z","comments":true,"path":"2017/05/18/iOS开发之数据库存储/","link":"","permalink":"https://cyruschang.github.io/2017/05/18/iOS开发之数据库存储/","excerpt":"","text":"iOS开发常用的数据库存储的第三方库当属fmdb了,特将最近遇到的问题总结如下： 存储大量数据时，使用事务处理更快捷。一般写的时候用try-catch语句。 插入带有特殊符号的文本时，要经过处理，不然在sqlite3下是无法插入到数据库的。在这提供一个方法入下： 123- (NSString *)replaceSymbolString:(NSString *)originalString &#123; return [originalString stringByReplacingOccurrencesOfString:@\"\\'\"withString:@\"\\'\\'\"];&#125; 未完待续……","categories":[{"name":"编程","slug":"programming","permalink":"https://cyruschang.github.io/categories/programming/"}],"tags":[{"name":"iOS","slug":"iOS","permalink":"https://cyruschang.github.io/tags/iOS/"}]},{"title":"夏日回忆","slug":"夏日回忆","date":"2017-04-08T02:32:03.000Z","updated":"2017-08-05T01:11:31.000Z","comments":true,"path":"2017/04/08/夏日回忆/","link":"","permalink":"https://cyruschang.github.io/2017/04/08/夏日回忆/","excerpt":"","text":"雪莱曾说：冬天到了，春天还会远吗？ 今天到立夏不到一月有余，我却总以为这是夏日，姑且标题为夏日回忆吧！ 清明雨后，时光总是懒懒散散。我足不出户，却在微博、朋友圈看到各式各样的风景。祖国之大，风光令我心向往之。闲来浏览网络，脑海里浮起了久违的回忆。 那时我还年少，大学里懵懵懂懂地读书。友人说，学音乐的哥哥业已毕业，去网络上听听他的作品吧。当我听到《忘不了》的时候，心为之一震。不太懂音乐，也不知道什么术语。只感觉到前部分此恨绵绵，后部分欢快绝伦。这是一种怎样的情感啊！友人哥哥的事情，也略知一二，我觉得全都浓缩在这音乐里了。忘不了什么呢？少年时的羞涩、求学之艰难、爱情的甜蜜吗？我谓之有。 如今几年一晃而过，浏览器还忠实地为我保存了那记忆。当我再次听起，眼泪就要潸然。那是一种怎样的情感啊！纵然时过境迁、纵然沧海桑田，不变的是初心，不变的还是《忘不了》。 毕业了，友人天南海北各一方。我忘不了你们，我们还会再聚首，还会唱起一首歌，还会把盏一杯酒，还会行走在这时光里！","categories":[{"name":"生活","slug":"life","permalink":"https://cyruschang.github.io/categories/life/"}],"tags":[{"name":"随想","slug":"essay","permalink":"https://cyruschang.github.io/tags/essay/"}]},{"title":"iOS开发int和NSInteger的区别","slug":"iOS开发之int和NSInteger的区别","date":"2017-03-30T09:18:17.000Z","updated":"2017-03-30T09:18:17.000Z","comments":true,"path":"2017/03/30/iOS开发之int和NSInteger的区别/","link":"","permalink":"https://cyruschang.github.io/2017/03/30/iOS开发之int和NSInteger的区别/","excerpt":"","text":"总会遇到用int还是用NSInteger，而且总是忘了为什么。今天索性查完资料记下来。在苹果的源文件中，NSInteger是这样定义的： 1234567#if __LP64__ || (TARGET_OS_EMBEDDED &amp;&amp; !TARGET_OS_IPHONE) || TARGET_OS_WIN32 || NS_BUILD_32_LIKE_64typedef long NSInteger;typedef unsigned long NSUInteger;#elsetypedef int NSInteger;typedef unsigned int NSUInteger;#endif 这个宏定义是什么意思呢？ __LP64__表示指针长度为64位 (TARGET_OS_EMBEDDED &amp;&amp; !TARGET_OS_IPHONE)嵌入式环境并且不是iPhone TARGET_OS_WIN3232位Windows环境 NS_BUILD_32_LIKE_64以64位编译 概括起来就是，苹果会选择较大的那种类型作为NSInteger，在32位环境上就是int，在64位环境上就是long。","categories":[{"name":"编程","slug":"programming","permalink":"https://cyruschang.github.io/categories/programming/"}],"tags":[{"name":"iOS","slug":"iOS","permalink":"https://cyruschang.github.io/tags/iOS/"}]},{"title":"一条无助的狗","slug":"一条无助的狗","date":"2017-03-28T07:25:20.000Z","updated":"2017-03-29T10:26:59.000Z","comments":true,"path":"2017/03/28/一条无助的狗/","link":"","permalink":"https://cyruschang.github.io/2017/03/28/一条无助的狗/","excerpt":"","text":"清晨我在公交站台，一条无助的黑狗闯入了我的视线。眼神如此惊恐而慌乱。想必是哪家假的喜爱宠物人瞧这狗生病就丢了罢，抑或是无良的狗贩子随意丢弃。六道车辆宽的马路，那狗就痴痴地站着，也不知道走。 车辆越发的多了，站台的人也越来越多，想必公交车就要来了。狗在车流中惊恐地窜来窜去，不时有刺耳的喇叭声想起。忽然一辆车在那狗面前停下了，就那么静静地等着，也顾不上后方车辆的急促喇叭声了。站台上的人们议论纷纷。 一个老爷子蹒跚着走到了狗的身边，准备将它抱起。可是那狗却钻过路中间的栅栏，到对面的车道不知所措了……","categories":[{"name":"生活","slug":"life","permalink":"https://cyruschang.github.io/categories/life/"}],"tags":[{"name":"随想","slug":"essay","permalink":"https://cyruschang.github.io/tags/essay/"}]},{"title":"观《大明王朝1566》","slug":"观《大明王朝1566》","date":"2017-03-20T03:18:36.000Z","updated":"2017-03-21T02:10:40.000Z","comments":true,"path":"2017/03/20/观《大明王朝1566》/","link":"","permalink":"https://cyruschang.github.io/2017/03/20/观《大明王朝1566》/","excerpt":"","text":"自我来北京，已三年矣！然每每接电话于老父者，未不尝语余之入仕也。今我观《嘉靖与海瑞》已毕，心中惶惶者甚。 蜀道之难，难于上青天。仕途之于吾，其难也与？","categories":[{"name":"生活","slug":"life","permalink":"https://cyruschang.github.io/categories/life/"}],"tags":[{"name":"美好的","slug":"bestfeel","permalink":"https://cyruschang.github.io/tags/bestfeel/"}]},{"title":"村上春树小说经典语录","slug":"村上春树小说经典语录","date":"2017-03-10T04:58:26.000Z","updated":"2017-03-10T05:19:38.000Z","comments":true,"path":"2017/03/10/村上春树小说经典语录/","link":"","permalink":"https://cyruschang.github.io/2017/03/10/村上春树小说经典语录/","excerpt":"","text":"《且听风吟》 不存在十全十美的文章，如同不存在彻头彻尾的绝望。 看海看久了想见人，见人见多了想看海。 《舞！舞！舞！》 你要做一个不动声色的大人了。不准情绪化，不准偷偷想念，不准回头看。去过自己另外的生活。你要听话，不是所有的鱼都会生活在同一片海里。 我一直以为人是慢慢变老的，其实不是，人是一瞬间变老的。 《挪威的森林》 哪里会有人喜欢孤独，不过是不喜欢失望罢了。 每个人都有属于自己的一片森林，也许我们 从来不曾去过，但它一直在那里，总会在那里。迷失的人迷失了，相逢的人会再相逢。 希望你可以记住我，记住我这样活过，这样在你身边呆过。 死并非生的对立面，而作为生的一部分永存。 不要同情自己，同情自己是卑劣懦夫干的勾当。 我渐渐能意会到，深刻并不等于接近事实。 《1Q84》 孤独一人也没关系，只要能发自内心地爱着一个人，人生就会有救。哪怕不能和他生活在一起。 不必太纠结于当下，也不必太忧虑未来，当你经历过一些事情的时候，眼前的风景已经和从前不一样了。 《世界尽头与冷酷仙境》 世上存在着不能流泪的悲哀，这种悲哀无法向人解释，即使解释人家也不会理解。它永远一成不变，如无风夜晚的雪花静静沉积在心底。","categories":[{"name":"读书","slug":"reading","permalink":"https://cyruschang.github.io/categories/reading/"}],"tags":[{"name":"村上春树","slug":"MurakamiHaruki","permalink":"https://cyruschang.github.io/tags/MurakamiHaruki/"}]},{"title":"iOS开发之苹果警告邮件","slug":"iOS开发之苹果警告邮件","date":"2017-03-08T08:30:01.000Z","updated":"2017-03-08T10:58:43.000Z","comments":true,"path":"2017/03/08/iOS开发之苹果警告邮件/","link":"","permalink":"https://cyruschang.github.io/2017/03/08/iOS开发之苹果警告邮件/","excerpt":"","text":"今早醒来看到手机软件Connect推送了一条苹果开发者中心的警告消息，到了公司在苹果开发者中心后台看到了具体的内容。 2017年3月8日 上午6:20 发件人 Apple Dear Developer, Your app, extension, and/or linked framework appears to contain code designed explicitly with the capability to change your app’s behavior or functionality after App Review approval, which is not in compliance with section 3.3.2 of the Apple Developer Program License Agreement and App Store Review Guideline 2.5.2. This code, combined with a remote resource, can facilitate significant changes to your app’s behavior compared to when it was initially reviewed for the App Store. While you may not be using this functionality currently, it has the potential to load private frameworks, private methods, and enable future feature changes. This includes any code which passes arbitrary parameters to dynamic methods such as dlopen(), dlsym(), respondsToSelector:, performSelector:, method_exchangeImplementations(), and running remote scripts in order to change app behavior or call SPI, based on the contents of the downloaded script. Even if the remote resource is not intentionally malicious, it could easily be hijacked via a Man In The Middle (MiTM) attack, which can pose a serious security vulnerability to users of your app. Please perform an in-depth review of your app and remove any code, frameworks, or SDKs that fall in line with the functionality described above before submitting the next update for your app for review. Best regards, App Store Review 随后发现各大论坛和iOS开发群都已经炸开了锅，甚至都上了今日头条。【链接】iOS原生开发迎来第二春jspathRNweexgg了,开发者一致地把矛头指向了JSpatch, Reactive Native, Weex等热更新框架。然而我的内心OS是这样：苹果爸爸毕竟是苹果爸爸呀，最近七八次的上线审核都很顺利，以至于我认为上线-审核-通过，就是顺理成章的事情。苹果却实力打脸。毕竟在苹果的生态环境下，他就是老大，还是有着说一不二的分量的。对于广大原生开发者来说，这是一个好事情吧。 不好的方面也许就是：开发者更依赖苹果和苹果的AppStore了。 结合我之前的经验得到的一个技术结论：原生的效果还是最好的。混合编译毕竟不能相媲美。前阵子用OC和swift混编，连ipa包都大了一个量级。 谨以此记录今天苹果的邮件事件吧~","categories":[{"name":"编程","slug":"programming","permalink":"https://cyruschang.github.io/categories/programming/"}],"tags":[{"name":"iOS","slug":"iOS","permalink":"https://cyruschang.github.io/tags/iOS/"}]},{"title":"iOS开发之小圆点角标变色问题","slug":"iOS开发之小圆点角标变色问题","date":"2017-03-06T09:20:11.000Z","updated":"2017-03-06T09:58:57.000Z","comments":true,"path":"2017/03/06/iOS开发之小圆点角标变色问题/","link":"","permalink":"https://cyruschang.github.io/2017/03/06/iOS开发之小圆点角标变色问题/","excerpt":"","text":"相信每一款IM中(Instance Message)类的App都有这样的UI吧！ &lt;img src=&quot;http://ome0t4nzu.bkt.clouddn.com/UI.png&quot; width=298 height=70&gt; 遇到的问题：当push到别的页面的时候，红色角标会变色，颜色和tableviewcell选中状态的颜色一样。如下图： &lt;img src=&quot;http://ome0t4nzu.bkt.clouddn.com/UI_1.png&quot; width=298 height=70&gt; 解决办法：在cell的- (void)layoutSubviews;方法中，再次设置小红点的颜色，即可解决。 &lt;img src=&quot;http://ome0t4nzu.bkt.clouddn.com/UI_2.png&quot; width=298 height=70&gt;","categories":[{"name":"编程","slug":"programming","permalink":"https://cyruschang.github.io/categories/programming/"}],"tags":[{"name":"iOS","slug":"iOS","permalink":"https://cyruschang.github.io/tags/iOS/"}]},{"title":"花钱买教训","slug":"教训","date":"2017-03-04T06:33:28.000Z","updated":"2017-03-04T06:46:33.000Z","comments":true,"path":"2017/03/04/教训/","link":"","permalink":"https://cyruschang.github.io/2017/03/04/教训/","excerpt":"","text":"今天我花了15元钱买了个不大不小的教训。囧~。《水浒传》中常讲众英雄好汉慌不择路，贫不择妻。人在遇到事情的时候千万千万要镇定下来，不然好事都变坏事了。","categories":[{"name":"生活","slug":"life","permalink":"https://cyruschang.github.io/categories/life/"}],"tags":[{"name":"二货","slug":"stupid","permalink":"https://cyruschang.github.io/tags/stupid/"}]},{"title":"第一次的砰然心动","slug":"第一次","date":"2017-03-03T14:54:36.000Z","updated":"2017-03-04T06:46:03.000Z","comments":true,"path":"2017/03/03/第一次/","link":"","permalink":"https://cyruschang.github.io/2017/03/03/第一次/","excerpt":"","text":"经常会看到很精美的**.github.io域名的博客，然而并没有仔细深究是怎么做到的。偶然在简书iOS开发版块看到一篇文章介绍到了，索性就直接弄了一个。第一次的砰然心动总归比不上天长地久的喜欢，希望自己能够坚持下去。找这个主题花了相当长的时间，简约，简单，不失大气。","categories":[{"name":"生活","slug":"life","permalink":"https://cyruschang.github.io/categories/life/"}],"tags":[{"name":"美好的","slug":"bestfeel","permalink":"https://cyruschang.github.io/tags/bestfeel/"}]}]}